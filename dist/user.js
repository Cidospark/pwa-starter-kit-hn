webpackJsonp([3],{32:function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a}function f(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(b,"__esModule",{value:!0}),b.fetchUserIfNeeded=b.currentUserSelector=b.HnUserElement=void 0;var g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=c(10);c(47);var i=c(50),j=function(a){return a&&a.__esModule?a:{default:a}}(i),k=c(12),l=c(48),m=c(15),n=c(11);k.store.addReducers({users:j.default});var o=b.HnUserElement=function(a){function b(){return d(this,b),e(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return f(b,a),g(b,[{key:"update",value:function(a){var b=(0,i.currentUserSelector)(a);b&&(document.title=b.id,this.setProperties({user:b}))}},{key:"_reload",value:function(){k.store.dispatch((0,l.fetchUser)(this.user))}}],[{key:"template",get:function(){return"\n    "+n.sharedStyles+"\n    <style>\n      table {\n        margin: 1em 0;\n      }\n    </style>\n    <button on-click=\"_reload\">Reload</button>\n    <table hidden$=\"[[user.failure]]\">\n      <tr>\n        <td>User:</td><td>[[user.id]]</td>\n      </tr>\n      <tr>\n        <td>Created:</td><td>[[user.created]]</td>\n      </tr>\n      <tr>\n        <td>Karma:</td><td>[[user.karma]]</td>\n      </tr>\n    </table>\n    <dom-if if=\"[[user.failure]]\">\n      <template>\n        <p>User not found</p>\n      </template>\n    </dom-if>"}},{key:"properties",get:function(){return{user:Object}}}]),b}((0,m.connect)(k.store)(h.Element));customElements.define("hn-user",o),b.currentUserSelector=i.currentUserSelector,b.fetchUserIfNeeded=l.fetchUserIfNeeded},48:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var c=b.REQUEST_USER="REQUEST_USER",d=b.RECEIVE_USER="RECEIVE_USER",e=b.FAIL_USER="FAIL_USER",f=b.fetchUser=function(a){return function(b){b(h(a.id)),fetch("/api/user/"+a.id).then(function(a){return a.json()}).then(function(c){if(c.error)throw c.error;b(i(a.id,c))}).catch(function(){return b(j(a.id))})}},g=b.fetchUserIfNeeded=function(a){return function(b){!a||a.created_time||a.isFetching||b(f(a))}},h=function(a){return{type:c,userId:a}},i=function(a,b){return{type:d,userId:a,data:b}},j=function(a){return{type:e,userId:a}}},50:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(b,"__esModule",{value:!0}),b.currentUserSelector=void 0;var e=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},f=c(48),g=c(14),h=c(4),i=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=arguments[1];switch(b.type){case f.REQUEST_USER:return e({},a,{id:b.userId,failure:!1,isFetching:!0});case f.RECEIVE_USER:return e({},a,{failure:!1,isFetching:!1},b.data);case f.FAIL_USER:return e({},a,{failure:!0,isFetching:!1});default:return a;}};b.default=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=arguments[1];switch(b.type){case f.REQUEST_USER:case f.RECEIVE_USER:case f.FAIL_USER:var c=b.userId;return e({},a,d({},c,i(a[c],b)));default:return a;}};b.currentUserSelector=(0,g.createSelector)(function(a){return a.users},h.splitPathnameSelector,h.urlSearchParamsSelector,function(a,b,c){switch(b[0]){case"user":var d=c.get("id");return a[d]||{id:d};default:return null;}})}});