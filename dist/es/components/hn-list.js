import{$bundled$$$$$$$node_modules$$polymer$polymer$polymer$element}from'./hn-app.js';const{Element:Element}=$bundled$$$$$$$node_modules$$polymer$polymer$polymer$element;import{$bundled$$$$$$$node_modules$$polymer$polymer$lib$elements$dom$repeat}from'./hn-app.js';import{$bundled$$$$reducers$lists}from'./hn-app.js';const{currentItemsSelector:currentItemsSelector,currentListSelector:currentListSelector}=$bundled$$$$reducers$lists,lists=$bundled$$$$reducers$lists;import{$bundled$$$$reducers$items}from'./hn-app.js';const items=$bundled$$$$reducers$items;import{$bundled$$$$reducers$favorites}from'./hn-app.js';const favorites=$bundled$$$$reducers$favorites;import{$bundled$$$$store}from'./hn-app.js';const{store:store}=$bundled$$$$store;import{$bundled$hn$summary}from'./hn-app.js';import{$bundled$$$$actions$lists}from'./hn-app.js';const{fetchList:fetchList,fetchListIfNeeded:fetchListIfNeeded}=$bundled$$$$actions$lists;import{$bundled$$$$actions$favorites}from'./hn-app.js';const{loadFavorites:loadFavorites}=$bundled$$$$actions$favorites;import{$bundled$$$$$$$lib$connect$mixin}from'./hn-app.js';const{connect:connect}=$bundled$$$$$$$lib$connect$mixin;import{$bundled$shared$styles}from'./hn-app.js';const{sharedStyles:sharedStyles}=$bundled$shared$styles;store.addReducers({lists:lists.default,favorites:favorites.default,items:items.default}),store.dispatch(loadFavorites());class HnListElement extends connect(store)(Element){static get template(){return`
    ${sharedStyles}
    <button on-click="_reload">Reload</button>
    <dom-repeat items="[[items]]">
      <template>
        <hn-summary item="[[item]]" is-favorite="[[_isFavorite(favorites, item)]]"></hn-summary>
      </template>
    </dom-repeat>
    `}static get properties(){return{list:Object,favorites:Object,items:Array}}update(e){const a=currentListSelector(e);if(a){document.title=a.id;const f={favorites:e.favorites,list:a},c=currentItemsSelector(e);c&&(f.items=c),this.setProperties(f)}}_isFavorite(c,a){return!!(c&&a&&c[a.id])}_reload(){store.dispatch(fetchList(this.list))}}customElements.define('hn-list',HnListElement);export{HnListElement,currentListSelector,fetchListIfNeeded};